GENERATE HTML
    [ testconcat(i.name||'test') ]!
FROM "employee" i


/*GENERATE HTML
    [x.name, (asc)x.salary]!
FROM "employee" x;
*/

/*GENERATE HTML {
'国・地域別スプレッドデュレーション構成'!
[ggplot[x.name,(desc)x.salary]@{geom_bar="fill ='deeppink'"}]!
}
FROM "employee" x;
*/

/*GENERATE HTML
cross_tab(
    [st.city],,
    [e.name, [i.name]!]!@{bgcolor='aliceblue'},
    SUM[i.price]@{bgcolor='white'}
)@{side_width=200, tableborder = 1}
FROM store st, employee e, item i, sale s
WHERE st.id = s.store AND e.id = s.employee AND i.id = s.item 
*/
/*GENERATE HTML 
{
'組入投資信託証券の状況'@{bgcolor='navy',color='white'}!
'投資信託証券'@{bgcolor='aliceblue',width='300'}, '比率'@{bgcolor='aliceblue', width='71', align='center'}! 
[null((asc)x."構成比"),
x."クラス_プロダクト名"@{width='300'},
&CONVERT(DECIMAL(10,2), x."構成比"*100) || '%'@{width='70', align='right'}
]!!
{'その他'@{width='300'}, &CONVERT(DECIMAL(10,2), 1 - x."構成比"*100) || '%'@{width='70', align='right'}}!
{'合計'@{align='center',width='300'}, '100%'@{width='70', align='right'}}
}@{table1, pbgcolor = 'white'}
FROM "510070-140" x;
*/

/*
GENERATE HTML
    [x.name||'test']!
FROM "employee" x;
*/
/*
GENERATE HTML
    [ testconcat(i.name||'test') ]!
FROM "employee" i
*/
/*generate Unity_dv
[    object('text', i.name||'test', 4)
    ]!
FROM "employee" i
*/
/*GENERATE HTML
[link('link', 'Q12.ssql', i.salary || 'test')]!
FROM "employee" i;
*/
/*GENERATE HTML 
  {         ' マンスリー・レポート'@{color='black'}!
          ' ブルーベイ クレジットLSファンド（SMA専用）'@{bgcolor='navy', color='white', width='1000'}!
           ' 追加型投信／内外／資産複合／特殊型（絶対収益追求型）'@{width='500', bgcolor='navy', color='white'},
          ' 当初設定日 ： ' || d.date@{width='500', bgcolor='navy', color='white', align='right'}!
          ' '@{width='500', bgcolor='navy', color='white'},
         '作成基準日 ： ' || '2020年12月30日'@{width='500', bgcolor='navy', color='white', align='right'}
  }!
  ' '@{height=10}!

  {
          {'基準価額の推移'@{width=490, bgcolor='navy', color='white'}, ' '@{width=30}!
          ' '@{height=10}!
        [ggplot[u."基準日",u."基準価額"]@{geom_point= "color = 'red',size = 3", geom_line, width=490, height=300}]!, ' '@{width='45'}!
         {'※', 'データは、当初設定日から作成基準日までを表示しています。'}@{size=12}!
         {'※', '基準価額（分配金再投資）は、分配金（税引前）を再投資したものとして計算しています。'}@{size=12}!
         {'※', '基準価額は、信託報酬控除後です。'}@{size=12} 
  }@{width=490},
  {
        ' '@{height=10}!
        {'基準価額、純資産総額'@{bgcolor='navy', color='white'}}!
        ' '@{height=10}!
        { 
                ' '@{width=150},
                '当月末'@{width='150', align='center', bgcolor='Cornflowerblue'},
                '前月末比'@{width='150',align='center', bgcolor='Cornflowerblue'}!
                '基準価額'@{width='150', align='center', bgcolor='Cornflowerblue'}, 
                x."基準価額" || '円'@{width='150',align='right'},
                &REPLACE(&CONVERT(varchar, &CONVERT(money, x."基準価額"-y."基準価額"),1), '.00', ' ') || ' 円'@{width=150, align='right'}!
                '純資産総額'@{width='150', align='center', bgcolor='Cornflowerblue'},
                &CONVERT(DECIMAL(10,2), x."純資産総額") || ' 億円'@{width='150',align='right'},
                &CONVERT(DECIMAL(10,2), x."純資産総額"-y."純資産総額") || ' 億円'@{width='150',align='right'}
        }@{table}!
        ' '@{height=50}!

        {'期間別騰落率'@{bgcolor='navy', color='white'}}!
        ' '@{height=10}!
        {
                {' '@{width='70'},{ '騰落率'}@{bgcolor='Cornflowerblue', width='71', align='center'}}! 
                [null((asc)z.r), z."期間"@{bgcolor='Cornflowerblue',width='70', align='center'},
                        [z."騰落率"@{width='70', align='right'}]!
                ]!
        }@{table}!
        {'※', 'ファンドの騰落率は、分配金（税引前）を再投資したものとして計算しています。'}@{size=12, width=465}
       }
 }!
 ' '@{height=10}!

 {'分配の推移（1万口当たり、税引前）'@{bgcolor='navy', color='white', width=1000}}!
 ' '@{height=10}!
 {' '@{width=10}, '設定来分配金合計額'@{width=270}, sum[w."分配金"] || ' 円'@{width=300}}@{size=15}! 
 {
              '決算期'@{width='150',bgcolor='Cornflowerblue', align='center', height='20'},
              [(asc)w."分配日"@{width='150', bgcolor='Cornflowerblue', align='center', height='20'}],!
              '分配金'@{width='150', bgcolor='Cornflowerblue', align='center', height='20'},
              [null((asc)w."分配日"), w."分配金" || ' 円'@{width='150', align='right', height='20'}],
 }@{table}!
 ' '@{height='20'}!


 {'組入投資信託証券の状況'@{bgcolor='navy', color='white'}}!
 ' '@{height=10}!
 {
                {'投資信託証券'@{bgcolor='Cornflowerblue',width='300'}, '比率'@{bgcolor='Cornflowerblue', width='71', align='center'}}! 
                [null((asc)v."構成比"), v."クラス_プロダクト名"@{width='300'},
                        [&CONVERT(DECIMAL(10,2),v."構成比"*100) || '%'@{width='70', align='right'}]!
                ]!
 }@{table}!
 {'※', '対純資産総額比です。'}@{color='black', size=12}!

  line(3)!
   '＜本資料のお取扱いにおけるご留意点＞'!
        '● 当資料は三井住友トラスト・アセットマネジメントが作成したものであり、金融商品取引法に基づく開示書類ではありません。'@{width='1000'}!
        '● ご購入のお申込みの際は最新の投資信託説明書（交付目論見書）の内容を必ずご確認のうえ、ご自身でご判断ください。'@{width='1000'}!
        '● 投資信託は値動きのある有価証券等（外貨建資産には為替変動リスクを伴います。）に投資しますので基準価額は変動します。したがって、投資元本や利回りが保証されるものではありません。ファンドの運用による損益は全て投資者の皆様に帰属します。'@{width='1000'}!
        '● 投資信託は預貯金や保険契約とは異なり預金保険機構および保険契約者保護機構等の保護の対象ではありません。また、証券会社以外でご購入いただいた場合は、投資者保護基金の保護の対象ではありません。'@{width='1000'}!
        '● 当資料は信頼できると判断した各種情報等に基づき作成していますが、その正確性、完全性を保証するものではありません。また、今後予告なく変更される場合があります。'@{width='1000'}!
        '● 当資料中の図表、数値、その他データについては、過去のデータに基づき作成したものであり、将来の成果を示唆あるいは保証するものではありません。また、将来の市場環境の変動等により運用方針等が変更される場合があります。'@{width='1000'}!
     line(3)!
     image('./img/logo.png')@{align='right', width='300'}
FROM "510070-129" x, "510070-130" y, "510070-期間別騰落率" z, "510070-140" v, "510070-144_format_view" w, "510070_format_124" d, "510037-113" u
WHERE w."分配金" is not null;
*/
/*GENERATE HTML {
'国・地域別スプレッドデュレーション構成'@{color='white',bgcolor='navy'}!
[ggplot[x.name,x.salary]@{geom_bar="fill ='deeppink'"}]!
}@{debug = 'on', bgcolor = 'white'}
FROM "employee" x;
*/
/*GENERATE HTML
'test' ! [x.name, SUM[x.salary]]!
FROM "employee" x;
*/

/*GENERATE HTML 
[ggplot[(asc)x.b,x.e]@{geom_point= "color = 'green',size = 3"}]!
FROM test x;
*/

/*GENERATE HTML
['X: ', x."基準日" ,'Y: ',x."基準価額"]!
FROM "510037-113" x;
*/

/*GENERATE HTML
[ggplot[x."基準日",x."基準価額"]
@{geom_point= "color = 'red',size = 3", geom_line}]!
FROM "510037-113" x;
*/
